{"fill_rate": 0.3031322337962963, "f1": 89.18874369381042, "meta": {"annotate": "30", "cat_fun_name": "is_new_xp", "checkpoint": {"config": {"_name_or_path": "bert-base-uncased", "architectures": ["BertForQuestionAnswering"], "attention_probs_dropout_prob": 0.1, "gradient_checkpointing": false, "hidden_act": "gelu", "hidden_dropout_prob": 0.1, "hidden_size": 768, "initializer_range": 0.02, "intermediate_size": 3072, "layer_norm_eps": 1e-12, "max_position_embeddings": 512, "model_type": "bert", "num_attention_heads": 12, "num_hidden_layers": 12, "pad_token_id": 0, "position_embedding_type": "absolute", "type_vocab_size": 2, "vocab_size": 30522}, "eval_metrics": {"exact_match": 82.21381267738883, "f1": 89.18874369381042}, "path": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/hp_od-__data_2to__devel_data__nn_pruning__output__squad_test_9_fullpatch6___es-steps_nte20_ls250_stl50_est5000_rn-__data_2to__devel_data__nn_pruning__output__squad_test_9_fullpatch6_--5f772c87c5edbc85/checkpoint-100000", "sparse_args": {"ampere_pruning_method": "disabled", "attention_block_cols": 32, "attention_block_rows": 32, "attention_lambda": 1.0, "attention_output_with_dense": 0, "attention_pruning_method": "sigmoied_threshold", "bias_mask": true, "dense_block_cols": 1, "dense_block_rows": 1, "dense_lambda": 1.0, "dense_pruning_method": "sigmoied_threshold:1d_alt", "distil_alpha_ce": 0.1, "distil_alpha_teacher": 0.9, "distil_teacher_name_or_path": "bert-large-uncased-whole-word-masking-finetuned-squad", "distil_temperature": 2.0, "final_ampere_temperature": 20.0, "final_finetune": false, "final_threshold": 0.1, "final_warmup": 10, "gelu_patch": 1, "gelu_patch_steps": 50000, "initial_ampere_temperature": 0.0, "initial_threshold": 0, "initial_warmup": 1, "layer_norm_patch": 1, "layer_norm_patch_start_delta": 0.99, "layer_norm_patch_steps": 50000, "linear_min_parameters": 0, "mask_init": "constant", "mask_scale": 0.0, "mask_scores_learning_rate": 0.01, "regularization": "l1", "regularization_final_lambda": 10, "rewind_model_name_or_path": "madlag/bert-base-uncased-squadv1-x1.96-f88.3-d27-hybrid-filled-opt-v1"}, "speed": {"cuda_eval_elapsed_time": 19.22297591018677, "eval_elapsed_time": 26.312922549434006}, "speedup": 2.00772207100977, "stats": {"layers": {"0": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 734208, "linear_dense_total": 4718592, "linear_nnz": 2110464, "linear_total": 7077888, "nnz": 2116894, "total": 7086912}, "1": {"linear_attention_nnz": 983040, "linear_attention_total": 2359296, "linear_dense_nnz": 814080, "linear_dense_total": 4718592, "linear_nnz": 1797120, "linear_total": 7077888, "nnz": 1803218, "total": 7086528}, "10": {"linear_attention_nnz": 983040, "linear_attention_total": 2359296, "linear_dense_nnz": 505344, "linear_dense_total": 4718592, "linear_nnz": 1488384, "linear_total": 7077888, "nnz": 1494281, "total": 7086528}, "11": {"linear_attention_nnz": 1179648, "linear_attention_total": 2359296, "linear_dense_nnz": 728064, "linear_dense_total": 4718592, "linear_nnz": 1907712, "linear_total": 7077888, "nnz": 1913946, "total": 7086720}, "2": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 1021440, "linear_dense_total": 4718592, "linear_nnz": 2790912, "linear_total": 7077888, "nnz": 2797913, "total": 7087296}, "3": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 964608, "linear_dense_total": 4718592, "linear_nnz": 2734080, "linear_total": 7077888, "nnz": 2741044, "total": 7087296}, "4": {"linear_attention_nnz": 1966080, "linear_attention_total": 2359296, "linear_dense_nnz": 835584, "linear_dense_total": 4718592, "linear_nnz": 2801664, "linear_total": 7077888, "nnz": 2808736, "total": 7087488}, "5": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 857088, "linear_dense_total": 4718592, "linear_nnz": 2233344, "linear_total": 7077888, "nnz": 2239854, "total": 7086912}, "6": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 740352, "linear_dense_total": 4718592, "linear_nnz": 2509824, "linear_total": 7077888, "nnz": 2516642, "total": 7087296}, "7": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 563712, "linear_dense_total": 4718592, "linear_nnz": 1939968, "linear_total": 7077888, "nnz": 1946287, "total": 7086912}, "8": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 282624, "linear_dense_total": 4718592, "linear_nnz": 2052096, "linear_total": 7077888, "nnz": 2058616, "total": 7087296}, "9": {"linear_attention_nnz": 1179648, "linear_attention_total": 2359296, "linear_dense_nnz": 201216, "linear_dense_total": 4718592, "linear_nnz": 1380864, "linear_total": 7077888, "nnz": 1386755, "total": 7086720}}, "linear_nnz": 25746432, "linear_sparsity": 69.68677662037037, "linear_total": 84934656, "nnz": 49662908, "pruned_heads": {"0": [0, 2, 4, 5, 6], "1": [0, 2, 3, 5, 6, 7, 8], "10": [1, 2, 4, 5, 6, 7, 8], "11": [0, 5, 7, 8, 10, 11], "2": [8, 4, 7], "3": [2, 4, 6], "4": [1, 2], "5": [1, 2, 6, 7, 11], "6": [3, 10, 2], "7": [1, 3, 6, 7, 11], "8": [0, 3, 4], "9": [1, 4, 5, 7, 9, 10]}, "total": 108882626, "total_sparsity": 54.38858353765275}, "training_args": {"_n_gpu": -1, "adafactor": false, "adam_beta1": 0.9, "adam_beta2": 0.999, "adam_epsilon": 1e-08, "dataloader_drop_last": false, "dataloader_num_workers": 0, "dataloader_pin_memory": true, "ddp_find_unused_parameters": null, "debug": false, "deepspeed": null, "disable_tqdm": false, "do_eval": 1, "do_predict": false, "do_train": 1, "eval_accumulation_steps": null, "eval_steps": 5000, "evaluation_strategy": "steps", "fp16": false, "fp16_backend": "auto", "fp16_full_eval": false, "fp16_opt_level": "O1", "gradient_accumulation_steps": 1, "greater_is_better": null, "group_by_length": false, "ignore_data_skip": false, "label_names": null, "label_smoothing_factor": 0.0, "learning_rate": 3e-05, "load_best_model_at_end": false, "local_rank": -1, "logging_dir": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "logging_first_step": false, "logging_steps": 250, "logging_strategy": "steps", "lr_scheduler_type": "linear", "max_grad_norm": 1.0, "max_steps": -1, "metric_for_best_model": null, "no_cuda": false, "num_train_epochs": 20, "optimize_model_before_eval": "disabled", "output_dir": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "overwrite_output_dir": 1, "past_index": -1, "per_device_eval_batch_size": 8, "per_device_train_batch_size": 16, "per_gpu_eval_batch_size": null, "per_gpu_train_batch_size": null, "prediction_loss_only": false, "remove_unused_columns": true, "report_to": null, "run_name": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "save_steps": 5000, "save_strategy": "steps", "save_total_limit": 50, "seed": 17, "sharded_ddp": "", "skip_memory_metrics": false, "tpu_metrics_debug": false, "tpu_num_cores": null, "warmup_ratio": 0.0, "warmup_steps": 5400, "weight_decay": 0.0}}, "f1": 89.18874369381042, "fill_rate": 0.3031322337962963, "speedup": 2.00772207100977}}
{"fill_rate": 0.3022280092592592, "f1": 89.0933430047216, "meta": {"annotate": "30", "cat_fun_name": "is_new_xp", "checkpoint": {"config": {"_name_or_path": "bert-base-uncased", "architectures": ["BertForQuestionAnswering"], "attention_probs_dropout_prob": 0.1, "gradient_checkpointing": false, "hidden_act": "gelu", "hidden_dropout_prob": 0.1, "hidden_size": 768, "initializer_range": 0.02, "intermediate_size": 3072, "layer_norm_eps": 1e-12, "max_position_embeddings": 512, "model_type": "bert", "num_attention_heads": 12, "num_hidden_layers": 12, "pad_token_id": 0, "position_embedding_type": "absolute", "type_vocab_size": 2, "vocab_size": 30522}, "eval_metrics": {"exact_match": 82.06244087038789, "f1": 89.0933430047216}, "path": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/hp_od-__data_2to__devel_data__nn_pruning__output__squad_test_9_fullpatch6___es-steps_nte20_ls250_stl50_est5000_rn-__data_2to__devel_data__nn_pruning__output__squad_test_9_fullpatch6_--5f772c87c5edbc85/checkpoint-110000", "sparse_args": {"ampere_pruning_method": "disabled", "attention_block_cols": 32, "attention_block_rows": 32, "attention_lambda": 1.0, "attention_output_with_dense": 0, "attention_pruning_method": "sigmoied_threshold", "bias_mask": true, "dense_block_cols": 1, "dense_block_rows": 1, "dense_lambda": 1.0, "dense_pruning_method": "sigmoied_threshold:1d_alt", "distil_alpha_ce": 0.1, "distil_alpha_teacher": 0.9, "distil_teacher_name_or_path": "bert-large-uncased-whole-word-masking-finetuned-squad", "distil_temperature": 2.0, "final_ampere_temperature": 20.0, "final_finetune": false, "final_threshold": 0.1, "final_warmup": 10, "gelu_patch": 1, "gelu_patch_steps": 50000, "initial_ampere_temperature": 0.0, "initial_threshold": 0, "initial_warmup": 1, "layer_norm_patch": 1, "layer_norm_patch_start_delta": 0.99, "layer_norm_patch_steps": 50000, "linear_min_parameters": 0, "mask_init": "constant", "mask_scale": 0.0, "mask_scores_learning_rate": 0.01, "regularization": "l1", "regularization_final_lambda": 10, "rewind_model_name_or_path": "madlag/bert-base-uncased-squadv1-x1.96-f88.3-d27-hybrid-filled-opt-v1"}, "speed": {"cuda_eval_elapsed_time": 18.779986827850344, "eval_elapsed_time": 25.796454546041787}, "speedup": 2.055080941171715, "stats": {"layers": {"0": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 728064, "linear_dense_total": 4718592, "linear_nnz": 2104320, "linear_total": 7077888, "nnz": 2110746, "total": 7086912}, "1": {"linear_attention_nnz": 983040, "linear_attention_total": 2359296, "linear_dense_nnz": 807936, "linear_dense_total": 4718592, "linear_nnz": 1790976, "linear_total": 7077888, "nnz": 1797070, "total": 7086528}, "10": {"linear_attention_nnz": 983040, "linear_attention_total": 2359296, "linear_dense_nnz": 499200, "linear_dense_total": 4718592, "linear_nnz": 1482240, "linear_total": 7077888, "nnz": 1488133, "total": 7086528}, "11": {"linear_attention_nnz": 1179648, "linear_attention_total": 2359296, "linear_dense_nnz": 715776, "linear_dense_total": 4718592, "linear_nnz": 1895424, "linear_total": 7077888, "nnz": 1901650, "total": 7086720}, "2": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 1021440, "linear_dense_total": 4718592, "linear_nnz": 2790912, "linear_total": 7077888, "nnz": 2797913, "total": 7087296}, "3": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 952320, "linear_dense_total": 4718592, "linear_nnz": 2721792, "linear_total": 7077888, "nnz": 2728748, "total": 7087296}, "4": {"linear_attention_nnz": 1966080, "linear_attention_total": 2359296, "linear_dense_nnz": 829440, "linear_dense_total": 4718592, "linear_nnz": 2795520, "linear_total": 7077888, "nnz": 2802588, "total": 7087488}, "5": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 849408, "linear_dense_total": 4718592, "linear_nnz": 2225664, "linear_total": 7077888, "nnz": 2232169, "total": 7086912}, "6": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 732672, "linear_dense_total": 4718592, "linear_nnz": 2502144, "linear_total": 7077888, "nnz": 2508957, "total": 7087296}, "7": {"linear_attention_nnz": 1376256, "linear_attention_total": 2359296, "linear_dense_nnz": 554496, "linear_dense_total": 4718592, "linear_nnz": 1930752, "linear_total": 7077888, "nnz": 1937065, "total": 7086912}, "8": {"linear_attention_nnz": 1769472, "linear_attention_total": 2359296, "linear_dense_nnz": 281088, "linear_dense_total": 4718592, "linear_nnz": 2050560, "linear_total": 7077888, "nnz": 2057079, "total": 7087296}, "9": {"linear_attention_nnz": 1179648, "linear_attention_total": 2359296, "linear_dense_nnz": 199680, "linear_dense_total": 4718592, "linear_nnz": 1379328, "linear_total": 7077888, "nnz": 1385218, "total": 7086720}}, "linear_nnz": 25669632, "linear_sparsity": 69.77719907407408, "linear_total": 84934656, "nnz": 49586058, "pruned_heads": {"0": [0, 2, 4, 5, 6], "1": [0, 2, 3, 5, 6, 7, 8], "10": [1, 2, 4, 5, 6, 7, 8], "11": [0, 5, 7, 8, 10, 11], "2": [8, 4, 7], "3": [2, 4, 6], "4": [1, 2], "5": [1, 2, 6, 7, 11], "6": [3, 10, 2], "7": [1, 3, 6, 7, 11], "8": [0, 3, 4], "9": [1, 4, 5, 7, 9, 10]}, "total": 108882626, "total_sparsity": 54.45916412780125}, "training_args": {"_n_gpu": -1, "adafactor": false, "adam_beta1": 0.9, "adam_beta2": 0.999, "adam_epsilon": 1e-08, "dataloader_drop_last": false, "dataloader_num_workers": 0, "dataloader_pin_memory": true, "ddp_find_unused_parameters": null, "debug": false, "deepspeed": null, "disable_tqdm": false, "do_eval": 1, "do_predict": false, "do_train": 1, "eval_accumulation_steps": null, "eval_steps": 5000, "evaluation_strategy": "steps", "fp16": false, "fp16_backend": "auto", "fp16_full_eval": false, "fp16_opt_level": "O1", "gradient_accumulation_steps": 1, "greater_is_better": null, "group_by_length": false, "ignore_data_skip": false, "label_names": null, "label_smoothing_factor": 0.0, "learning_rate": 3e-05, "load_best_model_at_end": false, "local_rank": -1, "logging_dir": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "logging_first_step": false, "logging_steps": 250, "logging_strategy": "steps", "lr_scheduler_type": "linear", "max_grad_norm": 1.0, "max_steps": -1, "metric_for_best_model": null, "no_cuda": false, "num_train_epochs": 20, "optimize_model_before_eval": "disabled", "output_dir": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "overwrite_output_dir": 1, "past_index": -1, "per_device_eval_batch_size": 8, "per_device_train_batch_size": 16, "per_gpu_eval_batch_size": null, "per_gpu_train_batch_size": null, "prediction_loss_only": false, "remove_unused_columns": true, "report_to": null, "run_name": "/data_2to/devel_data/nn_pruning/output/squad_test_9_fullpatch6/", "save_steps": 5000, "save_strategy": "steps", "save_total_limit": 50, "seed": 17, "sharded_ddp": "", "skip_memory_metrics": false, "tpu_metrics_debug": false, "tpu_num_cores": null, "warmup_ratio": 0.0, "warmup_steps": 5400, "weight_decay": 0.0}}, "f1": 89.0933430047216, "fill_rate": 0.3022280092592592, "speedup": 2.055080941171715}}
